[//]: # (Generated by grpc-framework using protoc-gen-doc)
[//]: # (Do not edit)


# restore

## Contents

- Services
    - [RestoreService](#servicepublicportworxpdsrestorev1restoreservice)
  


- Messages
    - [Config](#config)
    - [CreateRestoreRequest](#createrestorerequest)
    - [DestinationReferences](#destinationreferences)
    - [GetRestoreRequest](#getrestorerequest)
    - [ListRestoresRequest](#listrestoresrequest)
    - [ListRestoresResponse](#listrestoresresponse)
    - [RecreateRestoreRequest](#recreaterestorerequest)
    - [RestorabilityMatrix](#restorabilitymatrix)
    - [RestorabilityMatrix.ConditionsEntry](#restorabilitymatrixconditionsentry)
    - [Restore](#restore)
    - [RestoreCompatibilityCondition](#restorecompatibilitycondition)
    - [RestoreCompatibilityCondition.BackupEntry](#restorecompatibilityconditionbackupentry)
    - [RestoreCompatibilityCondition.ImageEntry](#restorecompatibilityconditionimageentry)
    - [RestoreCompatibilityConditionList](#restorecompatibilityconditionlist)
    - [SourceReferences](#sourcereferences)
    - [Status](#status)
  


- Enums
    - [ErrorCode](#errorcode)
    - [Phase](#phase)
  


- [Scalar Value Types](#scalar-value-types)




## RestoreService {#servicepublicportworxpdsrestorev1restoreservice}
Restore service provides APIs to interact with the Restore entity.

### CreateRestore {#methodpublicportworxpdsrestorev1restoreservicecreaterestore}

> **rpc** CreateRestore([CreateRestoreRequest](#createrestorerequest))
    [Restore](#restore)

CreateRestore API creates the Restore resource.
### GetRestore {#methodpublicportworxpdsrestorev1restoreservicegetrestore}

> **rpc** GetRestore([GetRestoreRequest](#getrestorerequest))
    [Restore](#restore)

GetRestore API returns the Restore resource.
### ListRestores {#methodpublicportworxpdsrestorev1restoreservicelistrestores}

> **rpc** ListRestores([ListRestoresRequest](#listrestoresrequest))
    [ListRestoresResponse](#listrestoresresponse)

ListRestore API lists the Restore resources.
### RecreateRestore {#methodpublicportworxpdsrestorev1restoreservicerecreaterestore}

> **rpc** RecreateRestore([RecreateRestoreRequest](#recreaterestorerequest))
    [Restore](#restore)

RecreateRestore API recreates a already failed restore.
### GetRestorabilityMatrix {#methodpublicportworxpdsrestorev1restoreservicegetrestorabilitymatrix}

> **rpc** GetRestorabilityMatrix([.google.protobuf.Empty](#googleprotobufempty))
    [RestorabilityMatrix](#restorabilitymatrix)

GetRestorabilityMatrix API returns the compatibility matrix for restore.
(-- api-linter: core::0131::request-message-name=disabled
    aip.dev/not-precedent: We need to do this because we don't need any parameter in request --)
 <!-- end methods -->
 <!-- end services -->

## Messages


### Config {#config}
Desired configuration of the restore.


| Field | Type | Description |
| ----- | ---- | ----------- |
| source_references | [ SourceReferences](#sourcereferences) | SourceReferences for the restore. |
| destination_references | [ DestinationReferences](#destinationreferences) | Destination references for the restore. |
| custom_resource_name | [ string](#string) | K8s resource name for restore, built from ["restore-" + name + short-id]. |
 <!-- end Fields -->
 <!-- end HasFields -->


### CreateRestoreRequest {#createrestorerequest}
Request to create a restore.


| Field | Type | Description |
| ----- | ---- | ----------- |
| namespace_id | [ string](#string) | UID of the namespace where restore will be created. (-- api-linter: core::0133::request-unknown-fields=disabled aip.dev/not-precedent: We really need this field because namespace is the parent of the restore. --) (-- api-linter: core::0133::request-required-fields=disabled aip.dev/not-precedent: We really need this field to be required to support creation of the resource in the deployment context.. --) |
| project_id | [ string](#string) | UID of the project associated with the restore. (-- api-linter: core::0133::request-unknown-fields=disabled aip.dev/not-precedent: We need this field for to know the project with which the restore is associated with. --) (-- api-linter: core::0133::request-required-fields=disabled aip.dev/not-precedent: We really need this field to be required to support creation of the resource in the deployment context.. --) |
| restore | [ Restore](#restore) | Restore resource. |
 <!-- end Fields -->
 <!-- end HasFields -->


### DestinationReferences {#destinationreferences}
Destination references for the restore.


| Field | Type | Description |
| ----- | ---- | ----------- |
| target_cluster_id | [ string](#string) | UID of the target cluster where restore will be created. |
| data_service_deployment_id | [ string](#string) | UID of the deployment created by the restore. |
| project_id | [ string](#string) | UID of the project. |
 <!-- end Fields -->
 <!-- end HasFields -->


### GetRestoreRequest {#getrestorerequest}
Request to get a restore.


| Field | Type | Description |
| ----- | ---- | ----------- |
| id | [ string](#string) | UID of the restore. |
 <!-- end Fields -->
 <!-- end HasFields -->


### ListRestoresRequest {#listrestoresrequest}
Request to list the restores.


| Field | Type | Description |
| ----- | ---- | ----------- |
| [**oneof**](https://developers.google.com/protocol-buffers/docs/proto3#oneof) list_by.tenant_id | [ string](#string) | Tenant ID for which the restore will be listed. |
| [**oneof**](https://developers.google.com/protocol-buffers/docs/proto3#oneof) list_by.project_id | [ string](#string) | Project ID for which the restore will be listed. |
| [**oneof**](https://developers.google.com/protocol-buffers/docs/proto3#oneof) list_by.data_service_deployment_id | [ string](#string) | Deployment ID for which the restore will be listed. |
| [**oneof**](https://developers.google.com/protocol-buffers/docs/proto3#oneof) list_by.backup_id | [ string](#string) | Backup ID for which the restore will be listed. |
| sort | [ public.portworx.common.v1.Sort](#publicportworxcommonv1sort) | Sorting details using which requested list to be sorted. |
| pagination | [ public.portworx.common.v1.PageBasedPaginationRequest](#publicportworxcommonv1pagebasedpaginationrequest) | Pagination metadata for this response. |
 <!-- end Fields -->
 <!-- end HasFields -->


### ListRestoresResponse {#listrestoresresponse}
ListRestoresResponse represents list restores response.


| Field | Type | Description |
| ----- | ---- | ----------- |
| restores | [repeated Restore](#restore) | List of restores. |
| pagination | [ public.portworx.common.v1.PageBasedPaginationResponse](#publicportworxcommonv1pagebasedpaginationresponse) | Pagination metadata for this response. (-- api-linter: core::0132::response-unknown-fields=disabled aip.dev/not-precedent: We need this field for pagination. --) |
 <!-- end Fields -->
 <!-- end HasFields -->


### RecreateRestoreRequest {#recreaterestorerequest}
Request to recreate a restore.


| Field | Type | Description |
| ----- | ---- | ----------- |
| id | [ string](#string) | UID of the existing restore. |
| name | [ string](#string) | Name of the restore. |
| project_id | [ string](#string) | UID of the project associated with the restore. |
| namespace_id | [ string](#string) | UID of namespace where restore will be created. |
 <!-- end Fields -->
 <!-- end HasFields -->


### RestorabilityMatrix {#restorabilitymatrix}
RestorabilityMatrix represents the compatibility matrix for restore.


| Field | Type | Description |
| ----- | ---- | ----------- |
| conditions | [map RestorabilityMatrix.ConditionsEntry](#restorabilitymatrixconditionsentry) | Restore compatibility conditions for each dataservice. |
 <!-- end Fields -->
 <!-- end HasFields -->


### RestorabilityMatrix.ConditionsEntry {#restorabilitymatrixconditionsentry}



| Field | Type | Description |
| ----- | ---- | ----------- |
| key | [ string](#string) | none |
| value | [ RestoreCompatibilityConditionList](#restorecompatibilityconditionlist) | none |
 <!-- end Fields -->
 <!-- end HasFields -->


### Restore {#restore}
Restore represents a data service restore.


| Field | Type | Description |
| ----- | ---- | ----------- |
| meta | [ public.portworx.common.v1.Meta](#publicportworxcommonv1meta) | Metadata of the resource. |
| config | [ Config](#config) | Desired configuration of the Restore. |
| status | [ Status](#status) | Current status of the Restore. |
 <!-- end Fields -->
 <!-- end HasFields -->


### RestoreCompatibilityCondition {#restorecompatibilitycondition}
Restore compatibility condition.


| Field | Type | Description |
| ----- | ---- | ----------- |
| backup | [map RestoreCompatibilityCondition.BackupEntry](#restorecompatibilityconditionbackupentry) | Restore compatibility condition for backup. key represents backup capability and value represents the version of the capability. e.g. {"backup": "v2"} |
| image | [map RestoreCompatibilityCondition.ImageEntry](#restorecompatibilityconditionimageentry) | Restore compatibility condition for image. key represents image capability and value represents the version of the capability. e.g. {"pds_restore": "v1"} |
 <!-- end Fields -->
 <!-- end HasFields -->


### RestoreCompatibilityCondition.BackupEntry {#restorecompatibilityconditionbackupentry}



| Field | Type | Description |
| ----- | ---- | ----------- |
| key | [ string](#string) | none |
| value | [ string](#string) | none |
 <!-- end Fields -->
 <!-- end HasFields -->


### RestoreCompatibilityCondition.ImageEntry {#restorecompatibilityconditionimageentry}



| Field | Type | Description |
| ----- | ---- | ----------- |
| key | [ string](#string) | none |
| value | [ string](#string) | none |
 <!-- end Fields -->
 <!-- end HasFields -->


### RestoreCompatibilityConditionList {#restorecompatibilityconditionlist}
List of restore compatibility conditions.


| Field | Type | Description |
| ----- | ---- | ----------- |
| conditions | [repeated RestoreCompatibilityCondition](#restorecompatibilitycondition) | List of restore compatibility conditions. |
 <!-- end Fields -->
 <!-- end HasFields -->


### SourceReferences {#sourcereferences}
SourceReferences for the restore.


| Field | Type | Description |
| ----- | ---- | ----------- |
| data_service_deployment_id | [ string](#string) | UID of the deployment which was backed up. |
| backup_id | [ string](#string) | UID of the backup. |
| backup_location_id | [ string](#string) | UID of the backup location. |
| cloudsnap_id | [ string](#string) | UID of the cloud snapshot of the backup volume used for restore. |
 <!-- end Fields -->
 <!-- end HasFields -->


### Status {#status}
Status of the restore.


| Field | Type | Description |
| ----- | ---- | ----------- |
| started_at | [ google.protobuf.Timestamp](#googleprotobuftimestamp) | (-- api-linter: core::0142::time-field-names=disabled aip.dev/not-precedent: We need to do this because we need different name for the field. --) Time when restore was started. |
| completed_at | [ google.protobuf.Timestamp](#googleprotobuftimestamp) | (-- api-linter: core::0142::time-field-names=disabled aip.dev/not-precedent: We need to do this because we need different name for the field. --) Time when restore was completed. |
| error_code | [ ErrorCode](#errorcode) | Error code of the restore from Target Cluster. |
| error_message | [ string](#string) | Error message is description of the error in restore. |
| phase | [ Phase](#phase) | Phase of the restore. |
| custom_resource_name | [ string](#string) | Custom Resource Name is the kubernetes resource name for the restore that is built from ID. |
 <!-- end Fields -->
 <!-- end HasFields -->
 <!-- end messages -->

## Enums


### ErrorCode {#errorcode}
Enums for error codes for restore on the target cluster.

| Name | Number | Description |
| ---- | ------ | ----------- |
| ERROR_CODE_UNSPECIFIED | 0 | Error code not specified. |
| DATA_SERVICE_DEPLOYMENT_NAME_ALREADY_EXIST | 1 | Deployment name already used in the namespace. |
| FAILED_BACKUP_CREDENTIAL_SYNC | 2 | Failed to sync backup credentials on the target cluster. |
| RESTORE_INTERNAL_ERROR | 3 | Restore Internal error. |




### Phase {#phase}
Enum for phase of the restore.

| Name | Number | Description |
| ---- | ------ | ----------- |
| PHASE_UNSPECIFIED | 0 | Phase is unspecified. |
| INITIALIZING | 1 | Restore is initializing. |
| PENDING | 2 | Restore has not yet started. |
| RESTORING_CLOUDSNAP | 3 | Waiting for the cloud snap restore to complete. |
| RESTORING_DATA_SERVICE_DEPLOYMENT_CR | 4 | PV and PVC resources are ready and we're waiting to get the data service deployment manifest from the backup. |
| RESTORING_DATA_SERVICE_DEPLOYMENT | 5 | New data service deployment has been created and we're waiting for the restore process to complete. |
| DATA_SERVICE_DEPLOYMENT_ENTERING_NORMAL_MODE | 6 | Restore process in data service deployment has succeeded and we're waiting until it becomes healthy in normal mode. |
| SUCCESSFUL | 7 | Restore successful. |
| FAILED | 8 | Restore failed. |


 <!-- end Enums -->
 <!-- end Files -->

## Scalar Value Types

| .proto Type | Notes | C++ Type | Java Type | Python Type |
| ----------- | ----- | -------- | --------- | ----------- |
| <div><h4 id="double" /></div><a name="double" /> double |  | double | double | float |
| <div><h4 id="float" /></div><a name="float" /> float |  | float | float | float |
| <div><h4 id="int32" /></div><a name="int32" /> int32 | Uses variable-length encoding. Inefficient for encoding negative numbers – if your field is likely to have negative values, use sint32 instead. | int32 | int | int |
| <div><h4 id="int64" /></div><a name="int64" /> int64 | Uses variable-length encoding. Inefficient for encoding negative numbers – if your field is likely to have negative values, use sint64 instead. | int64 | long | int/long |
| <div><h4 id="uint32" /></div><a name="uint32" /> uint32 | Uses variable-length encoding. | uint32 | int | int/long |
| <div><h4 id="uint64" /></div><a name="uint64" /> uint64 | Uses variable-length encoding. | uint64 | long | int/long |
| <div><h4 id="sint32" /></div><a name="sint32" /> sint32 | Uses variable-length encoding. Signed int value. These more efficiently encode negative numbers than regular int32s. | int32 | int | int |
| <div><h4 id="sint64" /></div><a name="sint64" /> sint64 | Uses variable-length encoding. Signed int value. These more efficiently encode negative numbers than regular int64s. | int64 | long | int/long |
| <div><h4 id="fixed32" /></div><a name="fixed32" /> fixed32 | Always four bytes. More efficient than uint32 if values are often greater than 2^28. | uint32 | int | int |
| <div><h4 id="fixed64" /></div><a name="fixed64" /> fixed64 | Always eight bytes. More efficient than uint64 if values are often greater than 2^56. | uint64 | long | int/long |
| <div><h4 id="sfixed32" /></div><a name="sfixed32" /> sfixed32 | Always four bytes. | int32 | int | int |
| <div><h4 id="sfixed64" /></div><a name="sfixed64" /> sfixed64 | Always eight bytes. | int64 | long | int/long |
| <div><h4 id="bool" /></div><a name="bool" /> bool |  | bool | boolean | boolean |
| <div><h4 id="string" /></div><a name="string" /> string | A string must always contain UTF-8 encoded or 7-bit ASCII text. | string | String | str/unicode |
| <div><h4 id="bytes" /></div><a name="bytes" /> bytes | May contain any arbitrary sequence of bytes. | string | ByteString | str |

